\documentclass[]{book}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={Bevezetés az R statisztikai programcsomag használatába},
            pdfauthor={Ferenci Tamás},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{natbib}
\bibliographystyle{plainnat}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\usepackage{longtable,booktabs}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{Bevezetés az R statisztikai programcsomag használatába}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{Ferenci Tamás}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
      \predate{\centering\large\emph}
  \postdate{\par}
    \date{2019-01-12}

\usepackage{booktabs}
\usepackage{amsthm}
\usepackage[magyar]{babel}
\usepackage[utf8]{inputenc}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\chapter{Előszó}\label{eloszo}

Előszó.

\chapter{Általános megjegyzések}\label{altalanos-megjegyzesek}

A kommentjel a \# (többsoros kommentre nincs külön jel R-ben,
RStudio-ban Ctrl+Shift+C használható több sort kijelölve is).

Az R interpretált nyelv (RStudio-ban kényelmesen futtatható egy sor,
amiben van a kurzur, vagy kijelölés esetén az egész kijelölt terület).

Az R case sensitive, tehát az \texttt{a} és az \texttt{A} nem ugyanaz,
két különböző dolog.

\chapter{Adattípusok,
adatszerkezetek}\label{adattipusok-adatszerkezetek}

\section{Adattípusok, értékadás}\label{adattipusok-ertekadas}

Az értékedás jele az R-ben a \texttt{\textless{}-}. (Az \texttt{=}-t ne
használjuk értékadásra, csak függvényben az argumentum értékének
megadására!). Az R-ben a változókat nem kell külön deklarálni,
értékadással maguktól létrejönnek, ha korábban még nem léteztek.

Fontos! Ez általában is igaz: az szintaktikailag flexibilis, ``megengedi
trehányságot'' -- ami viszont kétélű fegyver!

Az \texttt{str} általában a legjobb leírója egy objektumnak. A
\texttt{typeof} az objektum típusát adja meg.

Az R-ben 4 fontos adattípus van (type, mode).

Numerikus, alapból double:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szam <-}\StringTok{ }\FloatTok{3.1}
\NormalTok{szam}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{SZAM}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in eval(expr, envir, enclos): object 'SZAM' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Szam}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Error in eval(expr, envir, enclos): object 'Szam' not found
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  num 3,1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

Attól mert valami történetesen egész, még double pontosságú lesz:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szam <-}\StringTok{ }\DecValTok{3}
\KeywordTok{str}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  num 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

Ha egészet (integer) akarunk, azt külön kell jelölni az \texttt{L}
utótaggal:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{egesz <-}\StringTok{ }\NormalTok{3L}
\NormalTok{egesz}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(egesz)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  int 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(egesz)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "integer"
\end{verbatim}

A numeric a mode, a double/integer a type. A többi adattípusnál a kettő
egybeesik.

Karakter:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szoveg <-}\StringTok{ "kiskutya"}
\NormalTok{szoveg}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "kiskutya"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(szoveg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  chr "kiskutya"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(szoveg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "character"
\end{verbatim}

Logikai:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{logikai <-}\StringTok{ }\OtherTok{TRUE}  \CommentTok{# logical}
\NormalTok{logikai}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(logikai)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  logi TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(logikai)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "logical"
\end{verbatim}

A \texttt{TRUE} rövidíthető \texttt{T}-nek, a \texttt{FALSE} pedig
\texttt{F}-nek.

Adott típus tesztelése az \texttt{is.\textless{}tipus\textgreater{}}
alakban lehet:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{is.integer}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{is.integer}\NormalTok{(egesz)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{is.integer}\NormalTok{(szoveg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{is.integer}\NormalTok{(logikai)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

Az \texttt{is.numeric} azt jelenti, hogy is.integer vagy is.double:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{is.double}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{is.double}\NormalTok{(egesz)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] FALSE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{is.numeric}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{is.numeric}\NormalTok{(egesz)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] TRUE
\end{verbatim}

Elvileg még két adattípus van, a \texttt{raw} és a \texttt{complex}, nem
olyan fontosak. Van olyan dolog - például faktor - ami adattípusnak
tűnik, de mégsem az (egy másik típus speciális eset).

Adott típussá alakítás \texttt{as.\textless{}tipus\textgreater{}}
alakban lehet:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.character}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "3"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.numeric}\NormalTok{(szoveg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: NAs introduced by coercion
\end{verbatim}

\begin{verbatim}
## [1] NA
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{as.numeric}\NormalTok{(logikai)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
\end{verbatim}

Konvertálásnál az ,,erősorrend'': character \textless{} double = integer
\textless{} logical (a \texttt{T} 1-re, a \texttt{F} 0-ra alakul, a
többi értelemszerű). Az ezt sértő dolgok NA-t adnak. Sok parancs
automatikusan konvertál!

Hiányzó értéket \texttt{NA} jelöli (adott típusú hiányzó adat
\texttt{NA\_real\_}, \texttt{NA\_integer\_} és \texttt{NA\_character\_}
módokon kérhető).

\section{Adatszerkezetek és
indexelés}\label{adatszerkezetek-es-indexeles}

\subsection{Vektor}\label{vektor}

A vektor homogén, 1 dimenziós adatszerkezet.

Legegyszerűbb módon az elemei felsorolásával hozható létre, ehhez a
\texttt{c} függvény használható:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{10}\NormalTok{)}
\NormalTok{szamvektor}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  1  4  5  2  3 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(szamvektor)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{length}\NormalTok{(szamvektor)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 6
\end{verbatim}

Skalár nincs az R-ben, ami annak tűnik, az igazából 1 elemű vektor:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{length}\NormalTok{(szam)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
\end{verbatim}

Természetesen nem csak numerikus adatokból képezhető vektor, hanem
bármilyenből:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{karaktervektor <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"a"}\NormalTok{, }\StringTok{"b"}\NormalTok{, }\StringTok{"xyz"}\NormalTok{)}
\NormalTok{karaktervektor}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "a"   "b"   "xyz"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(karaktervektor)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "character"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{length}\NormalTok{(karaktervektor)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3
\end{verbatim}

A vektor homogén, az alábbi utasítások csak azért futnak le mégis, mert
a háttérben ilyenkor az R a ,,leggyengébbre'' konvertálja az összeset
(hogy kikényszerítse a homogenitást):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\StringTok{"a"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "1" "a"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{, }\OtherTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2 1
\end{verbatim}

A indexelés lehet számmal vagy vektorral (ugye igazából ugyanaz!), adott
pozició vagy pozíciók kiválaszthatóak:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 5
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{3}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1 5
\end{verbatim}

Egy elem kiválasztható többször is:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\KeywordTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{, }\DecValTok{2}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 4 4
\end{verbatim}

Kiválasztható az összes elem is, ekkor lényegében csak a sorrendet
módosítjuk:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\KeywordTok{c}\NormalTok{(}\DecValTok{3}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{6}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  5  4  1  2  3 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\KeywordTok{order}\NormalTok{(szamvektor)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  1  2  3  4  5 10
\end{verbatim}

Nemlétező elem indexelése \texttt{NA}-t ad:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\DecValTok{10}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] NA
\end{verbatim}

Lehetséges negatív indexelés is, ez kiválaszt mindent, \emph{kivéve}
amit indexeltünk:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\OperatorTok{-}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  1  4  2  3 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\OperatorTok{-}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{3}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  4  2  3 10
\end{verbatim}

Indexelhetünk logikai tömbbel is, ugyanolyan hosszú kell legyen mint az
eredeti, és azokat választja ki, ahol \texttt{T} van:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\KeywordTok{c}\NormalTok{(T, F, T, T, F, T)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  1  5  2 10
\end{verbatim}

Rövidebb tömbbel indexelés csak azért fog működik, mert ilyenkor az R
reciklálja az indexelő vektort. (Ez általában is így van: újabb példa a
kétélű flexibilitásra.)

Az indexelés és az értékadás kombinálható is:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\DecValTok{3}\NormalTok{] <-}\StringTok{ }\DecValTok{99}  \CommentTok{# az indexelés és az értékeadás kombinálható is}
\NormalTok{szamvektor}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1]  1  4 99  2  3 10
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\DecValTok{10}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] NA
\end{verbatim}

Ha nemlétezőnek adunk értéket, automatikusan kiterjeszti a vektort, a
többi helyre pedig \texttt{NA} kerül:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\DecValTok{10}\NormalTok{] <-}\StringTok{ }\DecValTok{999}  \CommentTok{# ha}
\NormalTok{szamvektor}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1]   1   4  99   2   3  10  NA  NA  NA 999
\end{verbatim}

A vektor elemei el is nevezhetőek; a nevek később a \texttt{names}-zel
lekérhetőek, és át is állíthatóak:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor <-}\StringTok{ }\KeywordTok{c}\NormalTok{(}\DataTypeTok{elso =} \DecValTok{4}\NormalTok{, }\DataTypeTok{masodik =} \DecValTok{1}\NormalTok{, }\DataTypeTok{harmadik =} \DecValTok{7}\NormalTok{)  }\CommentTok{# az elemek el is nevezhetőek}
\NormalTok{szamvektor}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     elso  masodik harmadik 
##        4        1        7
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{names}\NormalTok{(szamvektor)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "elso"     "masodik"  "harmadik"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{names}\NormalTok{(szamvektor)[}\DecValTok{3}\NormalTok{] <-}\StringTok{ "utolso"}
\NormalTok{szamvektor}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    elso masodik  utolso 
##       4       1       7
\end{verbatim}

Ha vannak elnevezések, akkor azok használhatóak indexelésre is:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\StringTok{"masodik"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## masodik 
##       1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szamvektor[}\KeywordTok{c}\NormalTok{(}\StringTok{"masodik"}\NormalTok{, }\StringTok{"utolso"}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## masodik  utolso 
##       1       7
\end{verbatim}

\subsection{Mátrix}\label{matrix}

A mátrix homogén, kétdimenziós adatszerkezet.

Legegyszerűbben úgy tölthető fel, ha egy vektort áttördelünk, a
\texttt{matrix} függvény használatával (az \texttt{nc} argumentummal az
oszlopok, az \texttt{nr} argumentummal a sorok számát állíthatjuk be,
értelemszerűen elég a kettőből egyet megadni):

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szammatrix <-}\StringTok{ }\KeywordTok{matrix}\NormalTok{(szamvektor, }\DataTypeTok{nc =} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in matrix(szamvektor, nc = 2): data length [3] is not a sub-
## multiple or multiple of the number of rows [2]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szammatrix}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2]
## [1,]    4    7
## [2,]    1    4
\end{verbatim}

Alapból oszlopok szerint tölt, de a \texttt{byrow} argumentummal ezt
átállíthatjuk:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{matrix}\NormalTok{(szamvektor, }\DataTypeTok{nc =} \DecValTok{2}\NormalTok{, }\DataTypeTok{byrow =} \OtherTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in matrix(szamvektor, nc = 2, byrow = TRUE): data length [3] is not
## a sub-multiple or multiple of the number of rows [2]
\end{verbatim}

\begin{verbatim}
##      [,1] [,2]
## [1,]    4    1
## [2,]    7    4
\end{verbatim}

A dimenzió, illetve külön a sorok és oszlopok száma könnyen lekérhető:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{dim}\NormalTok{(szammatrix)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2 2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{nrow}\NormalTok{(szammatrix)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ncol}\NormalTok{(szammatrix)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 2
\end{verbatim}

Indexelés ugyanúgy végezhető, csak épp mindkét dimenzióra mondanunk kell
valamit; a kettő vesszővel választandó el:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szammatrix}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2]
## [1,]    4    7
## [2,]    1    4
\end{verbatim}

{[} c( 2, 3 ), 2 {]}

Mindkét dimenzió tetszőleges korábban látott módon indexelhető, tehát a
különböző módok keverhetőek is:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szammatrix[}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{), }\KeywordTok{c}\NormalTok{(T, F)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 4 1
\end{verbatim}

Ha egy dimenziót nem indexelünk, akkor az R úgy érti, hogy onnan minden
elem (de a vessző ekkor sem hagyható el!):

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{szammatrix[}\DecValTok{2}\NormalTok{, ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1 4
\end{verbatim}

\subsection{Tömb (array)}\label{tomb-array}

A tömb (array) homogén, \(n\)-dimenziós adatszerkezet (nem foglalkozunk
vele részletesebben, ritkán használatos).

\subsection{Data frame}\label{data-frame}

A data frame (adatkeret) heterogén, kétdimenziós, rektanguláris
adatszerkeszet. Lényegében - nem feltétlenül ugyanolyan típusú -
vektorok összefogva; a rektanguláris azt jelenti, hogy minden vektor
ugyanolyan hosszú kell legyen.

Ez a legtipikusabb adatszerkezet orvosi adatok tárolására: sorokban a
megfigyelési egységek, oszlopokban a változók.

A \texttt{data} paranccsal egy kiegészítő csomagban található kész adat
tölthető be:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{data}\NormalTok{(birthwt, }\DataTypeTok{package =} \StringTok{"MASS"}\NormalTok{)}
\NormalTok{birthwt}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     low age lwt race smoke ptl ht ui ftv  bwt
## 85    0  19 182    2     0   0  0  1   0 2523
## 86    0  33 155    3     0   0  0  0   3 2551
## 87    0  20 105    1     1   0  0  0   1 2557
## 88    0  21 108    1     1   0  0  1   2 2594
## 89    0  18 107    1     1   0  0  1   0 2600
## 91    0  21 124    3     0   0  0  0   0 2622
## 92    0  22 118    1     0   0  0  0   1 2637
## 93    0  17 103    3     0   0  0  0   1 2637
## 94    0  29 123    1     1   0  0  0   1 2663
## 95    0  26 113    1     1   0  0  0   0 2665
## 96    0  19  95    3     0   0  0  0   0 2722
## 97    0  19 150    3     0   0  0  0   1 2733
## 98    0  22  95    3     0   0  1  0   0 2751
## 99    0  30 107    3     0   1  0  1   2 2750
## 100   0  18 100    1     1   0  0  0   0 2769
## 101   0  18 100    1     1   0  0  0   0 2769
## 102   0  15  98    2     0   0  0  0   0 2778
## 103   0  25 118    1     1   0  0  0   3 2782
## 104   0  20 120    3     0   0  0  1   0 2807
## 105   0  28 120    1     1   0  0  0   1 2821
## 106   0  32 121    3     0   0  0  0   2 2835
## 107   0  31 100    1     0   0  0  1   3 2835
## 108   0  36 202    1     0   0  0  0   1 2836
## 109   0  28 120    3     0   0  0  0   0 2863
## 111   0  25 120    3     0   0  0  1   2 2877
## 112   0  28 167    1     0   0  0  0   0 2877
## 113   0  17 122    1     1   0  0  0   0 2906
## 114   0  29 150    1     0   0  0  0   2 2920
## 115   0  26 168    2     1   0  0  0   0 2920
## 116   0  17 113    2     0   0  0  0   1 2920
## 117   0  17 113    2     0   0  0  0   1 2920
## 118   0  24  90    1     1   1  0  0   1 2948
## 119   0  35 121    2     1   1  0  0   1 2948
## 120   0  25 155    1     0   0  0  0   1 2977
## 121   0  25 125    2     0   0  0  0   0 2977
## 123   0  29 140    1     1   0  0  0   2 2977
## 124   0  19 138    1     1   0  0  0   2 2977
## 125   0  27 124    1     1   0  0  0   0 2922
## 126   0  31 215    1     1   0  0  0   2 3005
## 127   0  33 109    1     1   0  0  0   1 3033
## 128   0  21 185    2     1   0  0  0   2 3042
## 129   0  19 189    1     0   0  0  0   2 3062
## 130   0  23 130    2     0   0  0  0   1 3062
## 131   0  21 160    1     0   0  0  0   0 3062
## 132   0  18  90    1     1   0  0  1   0 3062
## 133   0  18  90    1     1   0  0  1   0 3062
## 134   0  32 132    1     0   0  0  0   4 3080
## 135   0  19 132    3     0   0  0  0   0 3090
## 136   0  24 115    1     0   0  0  0   2 3090
## 137   0  22  85    3     1   0  0  0   0 3090
## 138   0  22 120    1     0   0  1  0   1 3100
## 139   0  23 128    3     0   0  0  0   0 3104
## 140   0  22 130    1     1   0  0  0   0 3132
## 141   0  30  95    1     1   0  0  0   2 3147
## 142   0  19 115    3     0   0  0  0   0 3175
## 143   0  16 110    3     0   0  0  0   0 3175
## 144   0  21 110    3     1   0  0  1   0 3203
## 145   0  30 153    3     0   0  0  0   0 3203
## 146   0  20 103    3     0   0  0  0   0 3203
## 147   0  17 119    3     0   0  0  0   0 3225
## 148   0  17 119    3     0   0  0  0   0 3225
## 149   0  23 119    3     0   0  0  0   2 3232
## 150   0  24 110    3     0   0  0  0   0 3232
## 151   0  28 140    1     0   0  0  0   0 3234
## 154   0  26 133    3     1   2  0  0   0 3260
## 155   0  20 169    3     0   1  0  1   1 3274
## 156   0  24 115    3     0   0  0  0   2 3274
## 159   0  28 250    3     1   0  0  0   6 3303
## 160   0  20 141    1     0   2  0  1   1 3317
## 161   0  22 158    2     0   1  0  0   2 3317
## 162   0  22 112    1     1   2  0  0   0 3317
## 163   0  31 150    3     1   0  0  0   2 3321
## 164   0  23 115    3     1   0  0  0   1 3331
## 166   0  16 112    2     0   0  0  0   0 3374
## 167   0  16 135    1     1   0  0  0   0 3374
## 168   0  18 229    2     0   0  0  0   0 3402
## 169   0  25 140    1     0   0  0  0   1 3416
## 170   0  32 134    1     1   1  0  0   4 3430
## 172   0  20 121    2     1   0  0  0   0 3444
## 173   0  23 190    1     0   0  0  0   0 3459
## 174   0  22 131    1     0   0  0  0   1 3460
## 175   0  32 170    1     0   0  0  0   0 3473
## 176   0  30 110    3     0   0  0  0   0 3544
## 177   0  20 127    3     0   0  0  0   0 3487
## 179   0  23 123    3     0   0  0  0   0 3544
## 180   0  17 120    3     1   0  0  0   0 3572
## 181   0  19 105    3     0   0  0  0   0 3572
## 182   0  23 130    1     0   0  0  0   0 3586
## 183   0  36 175    1     0   0  0  0   0 3600
## 184   0  22 125    1     0   0  0  0   1 3614
## 185   0  24 133    1     0   0  0  0   0 3614
## 186   0  21 134    3     0   0  0  0   2 3629
## 187   0  19 235    1     1   0  1  0   0 3629
## 188   0  25  95    1     1   3  0  1   0 3637
## 189   0  16 135    1     1   0  0  0   0 3643
## 190   0  29 135    1     0   0  0  0   1 3651
## 191   0  29 154    1     0   0  0  0   1 3651
## 192   0  19 147    1     1   0  0  0   0 3651
## 193   0  19 147    1     1   0  0  0   0 3651
## 195   0  30 137    1     0   0  0  0   1 3699
## 196   0  24 110    1     0   0  0  0   1 3728
## 197   0  19 184    1     1   0  1  0   0 3756
## 199   0  24 110    3     0   1  0  0   0 3770
## 200   0  23 110    1     0   0  0  0   1 3770
## 201   0  20 120    3     0   0  0  0   0 3770
## 202   0  25 241    2     0   0  1  0   0 3790
## 203   0  30 112    1     0   0  0  0   1 3799
## 204   0  22 169    1     0   0  0  0   0 3827
## 205   0  18 120    1     1   0  0  0   2 3856
## 206   0  16 170    2     0   0  0  0   4 3860
## 207   0  32 186    1     0   0  0  0   2 3860
## 208   0  18 120    3     0   0  0  0   1 3884
## 209   0  29 130    1     1   0  0  0   2 3884
## 210   0  33 117    1     0   0  0  1   1 3912
## 211   0  20 170    1     1   0  0  0   0 3940
## 212   0  28 134    3     0   0  0  0   1 3941
## 213   0  14 135    1     0   0  0  0   0 3941
## 214   0  28 130    3     0   0  0  0   0 3969
## 215   0  25 120    1     0   0  0  0   2 3983
## 216   0  16  95    3     0   0  0  0   1 3997
## 217   0  20 158    1     0   0  0  0   1 3997
## 218   0  26 160    3     0   0  0  0   0 4054
## 219   0  21 115    1     0   0  0  0   1 4054
## 220   0  22 129    1     0   0  0  0   0 4111
## 221   0  25 130    1     0   0  0  0   2 4153
## 222   0  31 120    1     0   0  0  0   2 4167
## 223   0  35 170    1     0   1  0  0   1 4174
## 224   0  19 120    1     1   0  0  0   0 4238
## 225   0  24 116    1     0   0  0  0   1 4593
## 226   0  45 123    1     0   0  0  0   1 4990
## 4     1  28 120    3     1   1  0  1   0  709
## 10    1  29 130    1     0   0  0  1   2 1021
## 11    1  34 187    2     1   0  1  0   0 1135
## 13    1  25 105    3     0   1  1  0   0 1330
## 15    1  25  85    3     0   0  0  1   0 1474
## 16    1  27 150    3     0   0  0  0   0 1588
## 17    1  23  97    3     0   0  0  1   1 1588
## 18    1  24 128    2     0   1  0  0   1 1701
## 19    1  24 132    3     0   0  1  0   0 1729
## 20    1  21 165    1     1   0  1  0   1 1790
## 22    1  32 105    1     1   0  0  0   0 1818
## 23    1  19  91    1     1   2  0  1   0 1885
## 24    1  25 115    3     0   0  0  0   0 1893
## 25    1  16 130    3     0   0  0  0   1 1899
## 26    1  25  92    1     1   0  0  0   0 1928
## 27    1  20 150    1     1   0  0  0   2 1928
## 28    1  21 200    2     0   0  0  1   2 1928
## 29    1  24 155    1     1   1  0  0   0 1936
## 30    1  21 103    3     0   0  0  0   0 1970
## 31    1  20 125    3     0   0  0  1   0 2055
## 32    1  25  89    3     0   2  0  0   1 2055
## 33    1  19 102    1     0   0  0  0   2 2082
## 34    1  19 112    1     1   0  0  1   0 2084
## 35    1  26 117    1     1   1  0  0   0 2084
## 36    1  24 138    1     0   0  0  0   0 2100
## 37    1  17 130    3     1   1  0  1   0 2125
## 40    1  20 120    2     1   0  0  0   3 2126
## 42    1  22 130    1     1   1  0  1   1 2187
## 43    1  27 130    2     0   0  0  1   0 2187
## 44    1  20  80    3     1   0  0  1   0 2211
## 45    1  17 110    1     1   0  0  0   0 2225
## 46    1  25 105    3     0   1  0  0   1 2240
## 47    1  20 109    3     0   0  0  0   0 2240
## 49    1  18 148    3     0   0  0  0   0 2282
## 50    1  18 110    2     1   1  0  0   0 2296
## 51    1  20 121    1     1   1  0  1   0 2296
## 52    1  21 100    3     0   1  0  0   4 2301
## 54    1  26  96    3     0   0  0  0   0 2325
## 56    1  31 102    1     1   1  0  0   1 2353
## 57    1  15 110    1     0   0  0  0   0 2353
## 59    1  23 187    2     1   0  0  0   1 2367
## 60    1  20 122    2     1   0  0  0   0 2381
## 61    1  24 105    2     1   0  0  0   0 2381
## 62    1  15 115    3     0   0  0  1   0 2381
## 63    1  23 120    3     0   0  0  0   0 2410
## 65    1  30 142    1     1   1  0  0   0 2410
## 67    1  22 130    1     1   0  0  0   1 2410
## 68    1  17 120    1     1   0  0  0   3 2414
## 69    1  23 110    1     1   1  0  0   0 2424
## 71    1  17 120    2     0   0  0  0   2 2438
## 75    1  26 154    3     0   1  1  0   1 2442
## 76    1  20 105    3     0   0  0  0   3 2450
## 77    1  26 190    1     1   0  0  0   0 2466
## 78    1  14 101    3     1   1  0  0   0 2466
## 79    1  28  95    1     1   0  0  0   2 2466
## 81    1  14 100    3     0   0  0  0   2 2495
## 82    1  23  94    3     1   0  0  0   0 2495
## 83    1  17 142    2     0   0  1  0   0 2495
## 84    1  21 130    1     1   0  1  0   3 2495
\end{verbatim}

Csak a felső néhány sor a \texttt{head} paranccsal kérhető le (az alsó
néhány sor pedig a \texttt{tail}-lel):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(birthwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    low age lwt race smoke ptl ht ui ftv  bwt
## 85   0  19 182    2     0   0  0  1   0 2523
## 86   0  33 155    3     0   0  0  0   3 2551
## 87   0  20 105    1     1   0  0  0   1 2557
## 88   0  21 108    1     1   0  0  1   2 2594
## 89   0  18 107    1     1   0  0  1   0 2600
## 91   0  21 124    3     0   0  0  0   0 2622
\end{verbatim}

Az oszlopok és a sorok is elnevezhetőek:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(birthwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    189 obs. of  10 variables:
##  $ low  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ age  : int  19 33 20 21 18 21 22 17 29 26 ...
##  $ lwt  : int  182 155 105 108 107 124 118 103 123 113 ...
##  $ race : int  2 3 1 1 1 3 1 3 1 1 ...
##  $ smoke: int  0 0 1 1 1 0 0 0 1 1 ...
##  $ ptl  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ ht   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ ui   : int  1 0 0 1 1 0 0 0 0 0 ...
##  $ ftv  : int  0 3 1 2 0 0 1 1 1 0 ...
##  $ bwt  : int  2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{names}\NormalTok{(birthwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "low"   "age"   "lwt"   "race"  "smoke" "ptl"   "ht"    "ui"   
##  [9] "ftv"   "bwt"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{colnames}\NormalTok{(birthwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  [1] "low"   "age"   "lwt"   "race"  "smoke" "ptl"   "ht"    "ui"   
##  [9] "ftv"   "bwt"
\end{verbatim}

Az adatkeret a mátrixhoz hasonlóan indexelhető:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt[}\DecValTok{3}\NormalTok{, ]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    low age lwt race smoke ptl ht ui ftv  bwt
## 87   0  20 105    1     1   0  0  0   1 2557
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt[}\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt[}\DecValTok{3}\NormalTok{, }\KeywordTok{c}\NormalTok{(}\DecValTok{5}\NormalTok{, }\DecValTok{6}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    smoke ptl
## 87     1   0
\end{verbatim}

Sőt, ha vannak elnevezéseink, az is használható. A következő 4 mind
egyenértékű:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt[, }\DecValTok{10}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1] 2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 2722 2733 2751 2750
##  [15] 2769 2769 2778 2782 2807 2821 2835 2835 2836 2863 2877 2877 2906 2920
##  [29] 2920 2920 2920 2948 2948 2977 2977 2977 2977 2922 3005 3033 3042 3062
##  [43] 3062 3062 3062 3062 3080 3090 3090 3090 3100 3104 3132 3147 3175 3175
##  [57] 3203 3203 3203 3225 3225 3232 3232 3234 3260 3274 3274 3303 3317 3317
##  [71] 3317 3321 3331 3374 3374 3402 3416 3430 3444 3459 3460 3473 3544 3487
##  [85] 3544 3572 3572 3586 3600 3614 3614 3629 3629 3637 3643 3651 3651 3651
##  [99] 3651 3699 3728 3756 3770 3770 3770 3790 3799 3827 3856 3860 3860 3884
## [113] 3884 3912 3940 3941 3941 3969 3983 3997 3997 4054 4054 4111 4153 4167
## [127] 4174 4238 4593 4990  709 1021 1135 1330 1474 1588 1588 1701 1729 1790
## [141] 1818 1885 1893 1899 1928 1928 1928 1936 1970 2055 2055 2082 2084 2084
## [155] 2100 2125 2126 2187 2187 2211 2225 2240 2240 2282 2296 2296 2301 2325
## [169] 2353 2353 2367 2381 2381 2381 2410 2410 2410 2414 2424 2438 2442 2450
## [183] 2466 2466 2466 2495 2495 2495 2495
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt}\OperatorTok{$}\NormalTok{bwt}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1] 2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 2722 2733 2751 2750
##  [15] 2769 2769 2778 2782 2807 2821 2835 2835 2836 2863 2877 2877 2906 2920
##  [29] 2920 2920 2920 2948 2948 2977 2977 2977 2977 2922 3005 3033 3042 3062
##  [43] 3062 3062 3062 3062 3080 3090 3090 3090 3100 3104 3132 3147 3175 3175
##  [57] 3203 3203 3203 3225 3225 3232 3232 3234 3260 3274 3274 3303 3317 3317
##  [71] 3317 3321 3331 3374 3374 3402 3416 3430 3444 3459 3460 3473 3544 3487
##  [85] 3544 3572 3572 3586 3600 3614 3614 3629 3629 3637 3643 3651 3651 3651
##  [99] 3651 3699 3728 3756 3770 3770 3770 3790 3799 3827 3856 3860 3860 3884
## [113] 3884 3912 3940 3941 3941 3969 3983 3997 3997 4054 4054 4111 4153 4167
## [127] 4174 4238 4593 4990  709 1021 1135 1330 1474 1588 1588 1701 1729 1790
## [141] 1818 1885 1893 1899 1928 1928 1928 1936 1970 2055 2055 2082 2084 2084
## [155] 2100 2125 2126 2187 2187 2211 2225 2240 2240 2282 2296 2296 2301 2325
## [169] 2353 2353 2367 2381 2381 2381 2410 2410 2410 2414 2424 2438 2442 2450
## [183] 2466 2466 2466 2495 2495 2495 2495
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt[, }\StringTok{"bwt"}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1] 2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 2722 2733 2751 2750
##  [15] 2769 2769 2778 2782 2807 2821 2835 2835 2836 2863 2877 2877 2906 2920
##  [29] 2920 2920 2920 2948 2948 2977 2977 2977 2977 2922 3005 3033 3042 3062
##  [43] 3062 3062 3062 3062 3080 3090 3090 3090 3100 3104 3132 3147 3175 3175
##  [57] 3203 3203 3203 3225 3225 3232 3232 3234 3260 3274 3274 3303 3317 3317
##  [71] 3317 3321 3331 3374 3374 3402 3416 3430 3444 3459 3460 3473 3544 3487
##  [85] 3544 3572 3572 3586 3600 3614 3614 3629 3629 3637 3643 3651 3651 3651
##  [99] 3651 3699 3728 3756 3770 3770 3770 3790 3799 3827 3856 3860 3860 3884
## [113] 3884 3912 3940 3941 3941 3969 3983 3997 3997 4054 4054 4111 4153 4167
## [127] 4174 4238 4593 4990  709 1021 1135 1330 1474 1588 1588 1701 1729 1790
## [141] 1818 1885 1893 1899 1928 1928 1928 1936 1970 2055 2055 2082 2084 2084
## [155] 2100 2125 2126 2187 2187 2211 2225 2240 2240 2282 2296 2296 2301 2325
## [169] 2353 2353 2367 2381 2381 2381 2410 2410 2410 2414 2424 2438 2442 2450
## [183] 2466 2466 2466 2495 2495 2495 2495
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt[[}\StringTok{"bwt"}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1] 2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 2722 2733 2751 2750
##  [15] 2769 2769 2778 2782 2807 2821 2835 2835 2836 2863 2877 2877 2906 2920
##  [29] 2920 2920 2920 2948 2948 2977 2977 2977 2977 2922 3005 3033 3042 3062
##  [43] 3062 3062 3062 3062 3080 3090 3090 3090 3100 3104 3132 3147 3175 3175
##  [57] 3203 3203 3203 3225 3225 3232 3232 3234 3260 3274 3274 3303 3317 3317
##  [71] 3317 3321 3331 3374 3374 3402 3416 3430 3444 3459 3460 3473 3544 3487
##  [85] 3544 3572 3572 3586 3600 3614 3614 3629 3629 3637 3643 3651 3651 3651
##  [99] 3651 3699 3728 3756 3770 3770 3770 3790 3799 3827 3856 3860 3860 3884
## [113] 3884 3912 3940 3941 3941 3969 3983 3997 3997 4054 4054 4111 4153 4167
## [127] 4174 4238 4593 4990  709 1021 1135 1330 1474 1588 1588 1701 1729 1790
## [141] 1818 1885 1893 1899 1928 1928 1928 1936 1970 2055 2055 2082 2084 2084
## [155] 2100 2125 2126 2187 2187 2211 2225 2240 2240 2282 2296 2296 2301 2325
## [169] 2353 2353 2367 2381 2381 2381 2410 2410 2410 2414 2424 2438 2442 2450
## [183] 2466 2466 2466 2495 2495 2495 2495
\end{verbatim}

A nem dupla szögletes zárójellel történő indexelés eltérése, hogy nem a
kiválasztott vektort, hanem egy csak a kiválasztott vektorból álló data
frame-et ad vissza:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt[[}\StringTok{"bwt"}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   [1] 2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 2722 2733 2751 2750
##  [15] 2769 2769 2778 2782 2807 2821 2835 2835 2836 2863 2877 2877 2906 2920
##  [29] 2920 2920 2920 2948 2948 2977 2977 2977 2977 2922 3005 3033 3042 3062
##  [43] 3062 3062 3062 3062 3080 3090 3090 3090 3100 3104 3132 3147 3175 3175
##  [57] 3203 3203 3203 3225 3225 3232 3232 3234 3260 3274 3274 3303 3317 3317
##  [71] 3317 3321 3331 3374 3374 3402 3416 3430 3444 3459 3460 3473 3544 3487
##  [85] 3544 3572 3572 3586 3600 3614 3614 3629 3629 3637 3643 3651 3651 3651
##  [99] 3651 3699 3728 3756 3770 3770 3770 3790 3799 3827 3856 3860 3860 3884
## [113] 3884 3912 3940 3941 3941 3969 3983 3997 3997 4054 4054 4111 4153 4167
## [127] 4174 4238 4593 4990  709 1021 1135 1330 1474 1588 1588 1701 1729 1790
## [141] 1818 1885 1893 1899 1928 1928 1928 1936 1970 2055 2055 2082 2084 2084
## [155] 2100 2125 2126 2187 2187 2211 2225 2240 2240 2282 2296 2296 2301 2325
## [169] 2353 2353 2367 2381 2381 2381 2410 2410 2410 2414 2424 2438 2442 2450
## [183] 2466 2466 2466 2495 2495 2495 2495
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(birthwt[[}\StringTok{"bwt"}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  int [1:189] 2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 ...
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(birthwt[}\StringTok{"bwt"}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     bwt
## 85 2523
## 86 2551
## 87 2557
## 88 2594
## 89 2600
## 91 2622
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(birthwt[}\StringTok{"bwt"}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    189 obs. of  1 variable:
##  $ bwt: int  2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 ...
\end{verbatim}

Használhatunk különféle módszereket (az alábbiak közül a második a
logikai indexelés miatt fog működni):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(birthwt[, }\KeywordTok{c}\NormalTok{(}\StringTok{"lwt"}\NormalTok{, }\StringTok{"smoke"}\NormalTok{)])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    lwt smoke
## 85 182     0
## 86 155     0
## 87 105     1
## 88 108     1
## 89 107     1
## 91 124     0
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(birthwt[birthwt}\OperatorTok{$}\NormalTok{smoke }\OperatorTok{==}\StringTok{ }\DecValTok{1}\NormalTok{, ])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     low age lwt race smoke ptl ht ui ftv  bwt
## 87    0  20 105    1     1   0  0  0   1 2557
## 88    0  21 108    1     1   0  0  1   2 2594
## 89    0  18 107    1     1   0  0  1   0 2600
## 94    0  29 123    1     1   0  0  0   1 2663
## 95    0  26 113    1     1   0  0  0   0 2665
## 100   0  18 100    1     1   0  0  0   0 2769
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(birthwt[birthwt}\OperatorTok{$}\NormalTok{smoke }\OperatorTok{==}\StringTok{ }\DecValTok{1} \OperatorTok{&}\StringTok{ }\NormalTok{birthwt}\OperatorTok{$}\NormalTok{race }\OperatorTok{==}\StringTok{ }\DecValTok{1}\NormalTok{, ])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     low age lwt race smoke ptl ht ui ftv  bwt
## 87    0  20 105    1     1   0  0  0   1 2557
## 88    0  21 108    1     1   0  0  1   2 2594
## 89    0  18 107    1     1   0  0  1   0 2600
## 94    0  29 123    1     1   0  0  0   1 2663
## 95    0  26 113    1     1   0  0  0   0 2665
## 100   0  18 100    1     1   0  0  0   0 2769
\end{verbatim}

Az adatkeret heterogén:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birthwt}\OperatorTok{$}\NormalTok{nev <-}\StringTok{ "a"}
\KeywordTok{head}\NormalTok{(birthwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    low age lwt race smoke ptl ht ui ftv  bwt nev
## 85   0  19 182    2     0   0  0  1   0 2523   a
## 86   0  33 155    3     0   0  0  0   3 2551   a
## 87   0  20 105    1     1   0  0  0   1 2557   a
## 88   0  21 108    1     1   0  0  1   2 2594   a
## 89   0  18 107    1     1   0  0  1   0 2600   a
## 91   0  21 124    3     0   0  0  0   0 2622   a
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(birthwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 'data.frame':    189 obs. of  11 variables:
##  $ low  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ age  : int  19 33 20 21 18 21 22 17 29 26 ...
##  $ lwt  : int  182 155 105 108 107 124 118 103 123 113 ...
##  $ race : int  2 3 1 1 1 3 1 3 1 1 ...
##  $ smoke: int  0 0 1 1 1 0 0 0 1 1 ...
##  $ ptl  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ ht   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ ui   : int  1 0 0 1 1 0 0 0 0 0 ...
##  $ ftv  : int  0 3 1 2 0 0 1 1 1 0 ...
##  $ bwt  : int  2523 2551 2557 2594 2600 2622 2637 2637 2663 2665 ...
##  $ nev  : chr  "a" "a" "a" "a" ...
\end{verbatim}

\subsection{Lista}\label{lista}

A lista homogén, egydimenziós adatszerkezet.

Legegyszerűbben elemei felsorolásával hozható létre, a \texttt{list}
függvényt használva:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lista <-}\StringTok{ }\KeywordTok{list}\NormalTok{(}\DataTypeTok{sz =}\NormalTok{ szamvektor, }\DataTypeTok{k =}\NormalTok{ karaktervektor, }\DataTypeTok{m =}\NormalTok{ szammatrix, }\DataTypeTok{df =}\NormalTok{ birthwt[}\DecValTok{1}\OperatorTok{:}\DecValTok{5}\NormalTok{, }
\NormalTok{    ])}
\NormalTok{lista}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## $sz
##    elso masodik  utolso 
##       4       1       7 
## 
## $k
## [1] "a"   "b"   "xyz"
## 
## $m
##      [,1] [,2]
## [1,]    4    7
## [2,]    1    4
## 
## $df
##    low age lwt race smoke ptl ht ui ftv  bwt nev
## 85   0  19 182    2     0   0  0  1   0 2523   a
## 86   0  33 155    3     0   0  0  0   3 2551   a
## 87   0  20 105    1     1   0  0  0   1 2557   a
## 88   0  21 108    1     1   0  0  1   2 2594   a
## 89   0  18 107    1     1   0  0  1   0 2600   a
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{str}\NormalTok{(list)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## function (...)
\end{verbatim}

Számmal és -- ha van neki -- névvel is indexelhető:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lista[[}\DecValTok{1}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    elso masodik  utolso 
##       4       1       7
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lista}\OperatorTok{$}\NormalTok{sz}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    elso masodik  utolso 
##       4       1       7
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lista[[}\StringTok{"sz"}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    elso masodik  utolso 
##       4       1       7
\end{verbatim}

Az egy zárójellel történő indexelés látszólag ugyanaz, de csak
látszólag:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lista[}\DecValTok{1}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## $sz
##    elso masodik  utolso 
##       4       1       7
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(lista[[}\DecValTok{1}\NormalTok{]])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "double"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{typeof}\NormalTok{(lista[}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "list"
\end{verbatim}

Tartomány is indexelhető:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lista[}\DecValTok{1}\OperatorTok{:}\DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## $sz
##    elso masodik  utolso 
##       4       1       7 
## 
## $k
## [1] "a"   "b"   "xyz"
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{lista[[}\DecValTok{1}\OperatorTok{:}\DecValTok{2}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 1
\end{verbatim}

Az előbbi dolgok természetesen kombinálhatóak is:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{idx <-}\StringTok{ "sz"}
\NormalTok{lista[[idx]]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    elso masodik  utolso 
##       4       1       7
\end{verbatim}

Az adatkeret igazából egy, az oszlopokból - mint vektorokból -
összerakott lista (tehát két szűkítés van: az elemek csak vektorok
lehetnek \emph{és} ugyanolyan hosszúaknak kell lenniük).

\chapter{Függvények}\label{fuggvenyek}

A függvényekről

\section{Függvényhívások}\label{fuggvenyhivasok}

Függvény úgy hívható, hogy megadjuk a nevét, majd utána zárójelben az
argumentumát, vagy argumentumait (lehet, hogy egy sincs, de a zárójelet
ekkor is ki kell írni):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{quantile}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   0%  25%  50%  75% 100% 
##  709 2414 2977 3487 4990
\end{verbatim}

Függvényről súgó a kérdőjellel kapható (két kérdőjel az összes ismert
függvényt végigkeresi, akár névtöredékre is): \texttt{?quantile}.

Aminél egyenlőségjellel adva van érték a specifikációban, ott az
default-ként viselkedik, nem kötelező megadni, viszont a default-tal nem
rendelkezőket muszáj:

\texttt{r\ \ \ quantile()}

\texttt{\#\#\ Error\ in\ is.factor(x):\ argument\ "x"\ is\ missing,\ with\ no\ default}

Ha több argumentumot adunk meg, akkor azok a felsorolás sorrendjében
osztódnak ki:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{quantile}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt, }\FloatTok{0.23}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  23% 
## 2388
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{quantile}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt, }\KeywordTok{c}\NormalTok{(}\FloatTok{0.23}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.6}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  23%  50%  60% 
## 2388 2977 3169
\end{verbatim}

Argumentumra hivatkozhatunk névvel is, ez esetben nem kell a felsorolás
sorrendjével törődnünk:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{quantile}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt, }\KeywordTok{c}\NormalTok{(}\FloatTok{0.23}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.6}\NormalTok{), }\DataTypeTok{type =} \DecValTok{6}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  23%  50%  60% 
## 2381 2977 3175
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{quantile}\NormalTok{(}\DataTypeTok{probs =} \KeywordTok{c}\NormalTok{(}\FloatTok{0.23}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.6}\NormalTok{), }\DataTypeTok{type =} \DecValTok{6}\NormalTok{, }\DataTypeTok{x =}\NormalTok{ birthwt}\OperatorTok{$}\NormalTok{bwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  23%  50%  60% 
## 2381 2977 3175
\end{verbatim}

Az általános gyakorlat az, hogy az első két-három argumentumot adhatjuk
meg név nélkül (ezeknél elvárható, hogy fejből is tudja az ember, hogy
mit jelent), de a többinél elegánsabb, ha mindenképp adunk nevet (tehát
akkor is, ha sorrendben írjuk).

\section{Saját függény definiálása}\label{sajat-fuggeny-definialasa}

Ilyet is lehet.

Egy függvény hívásánál az argumentumai elkülöníthetőek egy listába, majd
ugyanaz a hatása a \texttt{do.call} használatával elérhető (első
argumentum a függvény, második az átadandó argumentumok listája):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{quantile}\NormalTok{(}\DataTypeTok{probs =} \KeywordTok{c}\NormalTok{(}\FloatTok{0.23}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.6}\NormalTok{), }\DataTypeTok{type =} \DecValTok{6}\NormalTok{, }\DataTypeTok{x =}\NormalTok{ birthwt}\OperatorTok{$}\NormalTok{bwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  23%  50%  60% 
## 2381 2977 3175
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{do.call}\NormalTok{(quantile, }\KeywordTok{list}\NormalTok{(}\DataTypeTok{probs =} \KeywordTok{c}\NormalTok{(}\FloatTok{0.23}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.6}\NormalTok{), }\DataTypeTok{type =} \DecValTok{6}\NormalTok{, }\DataTypeTok{x =}\NormalTok{ birthwt}\OperatorTok{$}\NormalTok{bwt))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  23%  50%  60% 
## 2381 2977 3175
\end{verbatim}

Ez akkor jön jól, ha nem tudjuk előre, hogy mik az argumentumok (akár
azt sem, hogy hány darab van belőlük!), pl. mert egy \texttt{lapply}-jal
gyártottuk le, lásd később:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rbind}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{), }\KeywordTok{c}\NormalTok{(}\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{), }\KeywordTok{c}\NormalTok{(}\DecValTok{5}\NormalTok{, }\DecValTok{6}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{do.call}\NormalTok{(rbind, }\KeywordTok{lapply}\NormalTok{(birthwt, }\ControlFlowTok{function}\NormalTok{(x) }\KeywordTok{c}\NormalTok{(}\KeywordTok{mean}\NormalTok{(x), }\KeywordTok{median}\NormalTok{(x))))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in mean.default(x): argument is not numeric or logical: returning
## NA
\end{verbatim}

\begin{verbatim}
##       [,1]                 [,2]  
## low   "0,312169312169312"  "0"   
## age   "23,2380952380952"   "23"  
## lwt   "129,814814814815"   "121" 
## race  "1,84656084656085"   "1"   
## smoke "0,391534391534392"  "0"   
## ptl   "0,195767195767196"  "0"   
## ht    "0,0634920634920635" "0"   
## ui    "0,148148148148148"  "0"   
## ftv   "0,793650793650794"  "0"   
## bwt   "2944,5873015873"    "2977"
## nev   NA                   "a"
\end{verbatim}

\chapter{Az R programozása}\label{az-r-programozasa}

Programozás.

\section{Funkcionális programozás}\label{funkcionalis-programozas}

Az R, bár többféle paradigmában is tud dolgozni, érezhető funkcionális
nyelv. Ezt elegáns is, célszerű is kihasználni!

Egy példa:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{mean}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt[}\DecValTok{1}\OperatorTok{:}\DecValTok{100}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3130
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{elsoszazatlag <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(data) \{}
\NormalTok{    result <-}\StringTok{ }\KeywordTok{mean}\NormalTok{(data[}\DecValTok{1}\OperatorTok{:}\DecValTok{100}\NormalTok{])}
    \KeywordTok{return}\NormalTok{(result)}
\NormalTok{\}}

\NormalTok{elsoszazatlag <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(data) \{}
\NormalTok{    result <-}\StringTok{ }\KeywordTok{mean}\NormalTok{(data[}\DecValTok{1}\OperatorTok{:}\DecValTok{100}\NormalTok{])}
\NormalTok{    result}
\NormalTok{\}}
\NormalTok{elsoszazatlag <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(data) \{}
    \KeywordTok{mean}\NormalTok{(data[}\DecValTok{1}\OperatorTok{:}\DecValTok{100}\NormalTok{])}
\NormalTok{\}}

\KeywordTok{elsoszazatlag}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3130
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sd}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt[}\DecValTok{1}\OperatorTok{:}\DecValTok{100}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 324
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{elsoszazf <-}\StringTok{ }\ControlFlowTok{function}\NormalTok{(data, }\DataTypeTok{f =}\NormalTok{ mean) \{}
    \KeywordTok{f}\NormalTok{(data[}\DecValTok{1}\OperatorTok{:}\DecValTok{100}\NormalTok{])}
\NormalTok{\}}
\KeywordTok{elsoszazf}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3130
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{elsoszazf}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt, }\DataTypeTok{f =}\NormalTok{ sd)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 324
\end{verbatim}

A \texttt{lapply} az első argumentumban megadott lista minden elemére
ráereszti a második argumentumban megadott függvényt, és az eredményt
összefűzi egy listává (a \texttt{sapply} csak annyiban tér el, hogy
lista helyett vektort ad vissza, ha lehetséges a listát vektorrá
konvertálni):

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{lapply}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"age"}\NormalTok{, }\StringTok{"lwt"}\NormalTok{, }\StringTok{"bwt"}\NormalTok{), nchar)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [[1]]
## [1] 3
## 
## [[2]]
## [1] 3
## 
## [[3]]
## [1] 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sapply}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"age"}\NormalTok{, }\StringTok{"lwt"}\NormalTok{, }\StringTok{"bwt"}\NormalTok{), nchar)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## age lwt bwt 
##   3   3   3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{lapply}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"age"}\NormalTok{, }\StringTok{"lwt"}\NormalTok{, }\StringTok{"bwt"}\NormalTok{), }\ControlFlowTok{function}\NormalTok{(x) }\KeywordTok{nchar}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [[1]]
## [1] 3
## 
## [[2]]
## [1] 3
## 
## [[3]]
## [1] 3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{lapply}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"age"}\NormalTok{, }\StringTok{"lwt"}\NormalTok{, }\StringTok{"bwt"}\NormalTok{), }\ControlFlowTok{function}\NormalTok{(x) }\KeywordTok{mean}\NormalTok{(birthwt[[x]]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [[1]]
## [1] 23
## 
## [[2]]
## [1] 130
## 
## [[3]]
## [1] 2945
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sapply}\NormalTok{(}\KeywordTok{c}\NormalTok{(}\StringTok{"age"}\NormalTok{, }\StringTok{"lwt"}\NormalTok{, }\StringTok{"bwt"}\NormalTok{), }\ControlFlowTok{function}\NormalTok{(x) }\KeywordTok{mean}\NormalTok{(birthwt[[x]]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  age  lwt  bwt 
##   23  130 2945
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{sapply}\NormalTok{(birthwt, mean)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in mean.default(X[[i]], ...): argument is not numeric or logical:
## returning NA
\end{verbatim}

\begin{verbatim}
##   low   age   lwt  race smoke   ptl    ht    ui   ftv   bwt   nev 
## 3e-01 2e+01 1e+02 2e+00 4e-01 2e-01 6e-02 1e-01 8e-01 3e+03    NA
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{lapply}\NormalTok{(birthwt, }\ControlFlowTok{function}\NormalTok{(x) }\KeywordTok{c}\NormalTok{(}\KeywordTok{mean}\NormalTok{(x), }\KeywordTok{median}\NormalTok{(x)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in mean.default(x): argument is not numeric or logical: returning
## NA
\end{verbatim}

\begin{verbatim}
## $low
## [1] 0,3 0,0
## 
## $age
## [1] 23 23
## 
## $lwt
## [1] 130 121
## 
## $race
## [1] 2 1
## 
## $smoke
## [1] 0,4 0,0
## 
## $ptl
## [1] 0,2 0,0
## 
## $ht
## [1] 0,06 0,00
## 
## $ui
## [1] 0,1 0,0
## 
## $ftv
## [1] 0,8 0,0
## 
## $bwt
## [1] 2945 2977
## 
## $nev
## [1] NA  "a"
\end{verbatim}

A harmadik sor példát mutat arra, hogy anonim függvény is használható,
az utolsó előtti pedig arra, hogy a data.frame igazából lista, aminek az
elemei az oszlopai.

Az \texttt{apply} az első argumentumban megadott mátrix vagy adatkeret
minden sorára vagy oszlopára (ezt a második argumentum dönti el)
ráereszti a harmadik argumentumban megadott függvényt:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{apply}\NormalTok{(birthwt, }\DecValTok{2}\NormalTok{, mean)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA

## Warning in mean.default(newX[, i], ...): argument is not numeric or
## logical: returning NA
\end{verbatim}

\begin{verbatim}
##   low   age   lwt  race smoke   ptl    ht    ui   ftv   bwt   nev 
##    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA    NA
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{apply}\NormalTok{(birthwt, }\DecValTok{1}\NormalTok{, }\ControlFlowTok{function}\NormalTok{(x) x[}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  85  86  87  88  89  91  92  93  94  95  96  97  98  99 100 101 102 103 
## "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" 
## 104 105 106 107 108 109 111 112 113 114 115 116 117 118 119 120 121 123 
## "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" 
## 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 
## "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" 
## 142 143 144 145 146 147 148 149 150 151 154 155 156 159 160 161 162 163 
## "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" 
## 164 166 167 168 169 170 172 173 174 175 176 177 179 180 181 182 183 184 
## "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" 
## 185 186 187 188 189 190 191 192 193 195 196 197 199 200 201 202 203 204 
## "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" 
## 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 
## "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" "0" 
## 223 224 225 226   4  10  11  13  15  16  17  18  19  20  22  23  24  25 
## "0" "0" "0" "0" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" 
##  26  27  28  29  30  31  32  33  34  35  36  37  40  42  43  44  45  46 
## "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" 
##  47  49  50  51  52  54  56  57  59  60  61  62  63  65  67  68  69  71 
## "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" "1" 
##  75  76  77  78  79  81  82  83  84 
## "1" "1" "1" "1" "1" "1" "1" "1" "1"
\end{verbatim}

A \texttt{tapply} az első argumentumban megadott változó második
argumentum szerint képezett csoportjaira ráereszti a harmadik
argumentumban megadott függvényt:

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{mean}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt[birthwt}\OperatorTok{$}\NormalTok{race }\OperatorTok{==}\StringTok{ }\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 3103
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{tapply}\NormalTok{(birthwt}\OperatorTok{$}\NormalTok{bwt, birthwt}\OperatorTok{$}\NormalTok{race, mean)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##    1    2    3 
## 3103 2720 2805
\end{verbatim}


\end{document}
